
pipeline{
    agent {
        label 'node4'
    }
    stages{
        stage('clean'){
            steps{
                script {
                   sh """
                   pwd
                   ls
                   touch paul8

                   """
                    
                }
            }
        }
          stage('test'){
            steps{
                script {
                   sh """
                   cat /etc/*release
                   nproc

                   """
                    
                }
            }
        }
          stage('commit'){
            steps{
                script {
                   sh """
                   pwd
                   ls
                   mkdir johnpaul8

                   """
       
                }
            }
        }
         stage('docker build'){
            steps{
                script {
                   sh """
                  docker image
                   docker ps

                   """
       
                }
            }
        }
        stage('docker push'){
            steps{
                script {
                   sh """
                   docker image
                   docker ps

                   """
       
                }
            }
        }
         stage('deploy'){
            steps{
                script {
                   sh """
                   echo 'deploy to pre-prod env'

                   """
       
                }
            }
        }

    }
    post{
        success {
            echo 'finished with pass'
        }
        failure {
            echo 'finished with failure'
        }
    }
}
    
